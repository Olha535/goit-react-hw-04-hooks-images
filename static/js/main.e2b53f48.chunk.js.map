{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/constants.js","services/api-service.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/App/App.js","index.js"],"names":["module","exports","API_KEY","BASE_URL","searchQuery","page","a","url","axios","get","then","response","data","hits","map","id","largeImageURL","webformatURL","fetchImages","Searchbar","state","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","searchbar","this","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","image","tags","onImageClick","src","alt","onClick","ImageGalleryItemImage","ImageGallery","images","imageGallery","uuidv4","Button","button","modalRoot","document","querySelector","Modal","onCloseModal","code","onClose","onCloseBackdrop","target","window","addEventListener","removeEventListener","showModal","createPortal","overlay","modal","Spinner","color","height","width","timeout","style","textAlign","App","loading","error","handleFormSubmit","resetState","loadMoBtn","prevState","handleImageClick","largeImageUrl","toggleModal","prevProps","prevSearch","nextSearch","prevPage","nextPage","length","toast","info","theme","message","scrollTo","top","documentElement","scrollHeight","behavior","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,mBCAhPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,2MCDrBC,EAAU,qCACVC,EAAW,0B,4CCEjB,WAA2BC,EAAaC,GAAxC,eAAAC,EAAA,6DACQC,EADR,UACiBJ,EADjB,eACgCC,EADhC,iBACoDC,EADpD,gBACgEH,EADhE,0EAESM,IACJC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,QAC/BH,MAAK,SAAAG,GAAI,OACRA,EAAKC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,cAAP,MAA0C,CACjDD,KACAE,aAFO,EAAsBA,aAG7BD,wBATR,4C,sBAwBeE,M,sECvBMC,E,4MAKnBC,MAAQ,CACNhB,YAAa,I,EAGfiB,iBAAmB,SAAAC,GACjB,EAAKC,SAAS,CAAEnB,YAAakB,EAAEE,cAAcC,MAAMC,iB,EAGrDC,aAAe,SAAAL,GACbA,EAAEM,iBACoC,KAAlC,EAAKR,MAAMhB,YAAYyB,SAG3B,EAAKC,MAAMC,SAAS,EAAKX,MAAMhB,aAC/B,EAAKmB,SAAS,CAAEnB,YAAa,O,4CAE/B,WACE,OACE,wBAAQ4B,UAAWC,IAAEC,UAArB,SACE,uBAAMH,SAAUI,KAAKR,aAAcK,UAAWC,IAAEG,WAAhD,UACE,wBAAQC,KAAK,SAASL,UAAWC,IAAEK,iBAAnC,SACE,sBAAMN,UAAWC,IAAEM,sBAAnB,sBAGF,uBACEP,UAAWC,IAAEO,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,KAAK,cACLnB,MAAOU,KAAKf,MAAMhB,YAClByC,SAAUV,KAAKd,4B,GArCYyB,a,0CCAxB,SAASC,EAAT,GAA0D,IAA9BC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aACtD,OACE,oBAAIlB,UAAWC,IAAEc,iBAAjB,SACE,qBACEI,IAAKH,EACLI,IAAKH,EACLI,QAASH,EACTlB,UAAWC,IAAEqB,0BCLN,SAASC,EAAT,GAAiD,IAAzBC,EAAwB,EAAxBA,OAAQN,EAAgB,EAAhBA,aAC7C,OACE,oBAAIlB,UAAWC,IAAEwB,aAAjB,SACGD,EAAO1C,KAAI,gBAAGC,EAAH,EAAGA,GAAIE,EAAP,EAAOA,aAAcgC,EAArB,EAAqBA,KAAMjC,EAA3B,EAA2BA,cAA3B,OACV,cAAC+B,EAAD,CAEEC,MAAO/B,EACPgC,KAAMA,EACNC,aAAc,kBAAMA,EAAalC,EAAeiC,KAJlD,UACUlC,EADV,YACgB2C,qB,qBCPT,SAASC,EAAT,GAA8B,IAAZN,EAAW,EAAXA,QAC/B,OACE,wBAAQrB,UAAWC,IAAE2B,OAAQvB,KAAK,SAASgB,QAASA,EAApD,uB,qBCDEQ,EAAYC,SAASC,cAAc,eAEpBC,E,4MAenBC,aAAe,SAAA3C,GACE,WAAXA,EAAE4C,MACJ,EAAKpC,MAAMqC,W,EAIfC,gBAAkB,SAAA9C,GACZA,EAAE+C,SAAW/C,EAAEE,eACjB,EAAKM,MAAMqC,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWpC,KAAK8B,gB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWrC,KAAK8B,gB,oBAe7C,WACE,MAA4B9B,KAAKL,MAAzB2C,EAAR,EAAQA,UAAWxB,EAAnB,EAAmBA,KACXmB,EAAoBjC,KAApBiC,gBAER,OAAOM,uBACL,qBAAK1C,UAAWC,IAAE0C,QAAStB,QAASe,EAApC,SACE,qBAAKpC,UAAWC,IAAE2C,MAAlB,SACE,qBAAKzB,IAAKsB,EAAWrB,IAAKH,QAG9BY,O,GArC6Bf,a,iBCJpB,SAAS+B,IACtB,OACE,8BACE,cAAC,IAAD,CACExC,KAAK,YACLyC,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,IACTC,MAAO,CAAEC,UAAW,c,ICDPC,E,4MAKnBhE,MAAQ,CACNhB,YAAa,GACbC,KAAM,EACNmD,OAAQ,GACRiB,UAAW,KACXY,SAAS,EACTjC,IAAK,KACLkC,MAAO,M,EAsCTC,iBAAmB,SAAAnF,GACb,EAAKgB,MAAMhB,cAAgBA,IAG/B,EAAKoF,aACL,EAAKjE,SAAS,CAAEnB,kB,EAGlBqF,UAAY,WACV,EAAKlE,UAAS,SAAAmE,GAAS,MAAK,CAC1BrF,KAAMqF,EAAUrF,KAAO,O,EAI3BsF,iBAAmB,SAACC,EAAe3C,GACjC,EAAK1B,SAAS,CACZkD,UAAWmB,EACXxC,IAAKH,K,EAIT4C,YAAc,WACZ,EAAKtE,SAAS,CACZkD,UAAW,Q,EAIfe,WAAa,WACX,EAAKjE,SAAS,CACZnB,YAAa,GACbC,KAAM,EACNmD,OAAQ,GACRiB,UAAW,KACXY,SAAS,EACTjC,IAAK,KACLkC,MAAO,Q,+FAtEX,WAAyBQ,EAAWJ,GAApC,uBAAApF,EAAA,yDACQyF,EAAaL,EAAUtF,YACvB4F,EAAa7D,KAAKf,MAAMhB,YAExB6F,EAAWP,EAAUrF,KACrB6F,EAAW/D,KAAKf,MAAMf,KAExB0F,IAAeC,GAAcC,IAAaC,EAPhD,iCASM/D,KAAKZ,SAAS,CAAE8D,SAAS,IAT/B,SAU2BnE,EAAY8E,EAAYE,GAVnD,QAUY1C,EAVZ,QAYkB2C,QACVC,IAAMC,KAAK,qCAAsC,CAC/CC,MAAO,YAGXnE,KAAKZ,UAAS,SAAAmE,GAAS,MAAK,CAC1BlC,OAAO,GAAD,mBAAMkC,EAAUlC,QAAhB,YAA2BA,QAlBzC,kDAqBMrB,KAAKZ,SAAS,CAAE+D,MAAK,OACrBc,IAAMd,MAAMnD,KAAKf,MAAMkE,MAAMiB,QAAS,CAAED,MAAO,YAtBrD,yBAwBUZ,EAAUlC,OAAO2C,OAAS,IAC5B7B,OAAOkC,SAAS,CACdC,IAAK3C,SAAS4C,gBAAgBC,aAC9BC,SAAU,WAGdzE,KAAKZ,SAAS,CAAE8D,SAAS,IA9B/B,6E,6EA0EA,WACE,MAA4ClD,KAAKf,MAAzCoC,EAAR,EAAQA,OAAQJ,EAAhB,EAAgBA,IAAKqB,EAArB,EAAqBA,UAAWY,EAAhC,EAAgCA,QACxBE,EAA+DpD,KAA/DoD,iBAAkBI,EAA6CxD,KAA7CwD,iBAAkBE,EAA2B1D,KAA3B0D,YAAaJ,EAActD,KAAdsD,UAEzD,OACE,qCACE,sBAAKzD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWD,SAAUwD,IACrB,cAACV,EAAD,IACCrB,EAAO2C,OAAS,GACf,cAAC5C,EAAD,CAAcC,OAAQA,EAAQN,aAAcyC,IAG7ClB,GACC,cAAC,EAAD,CAAOA,UAAWA,EAAWxB,KAAMG,EAAKe,QAAS0B,IAElDrC,EAAO2C,OAAS,GAAK,cAACxC,EAAD,CAAQN,QAASoC,IACtCJ,GAAW,cAACR,EAAD,OAEd,cAAC,IAAD,CACEgC,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,W,GArHWvE,aCLjCwE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1D,SAAS2D,eAAe,W","file":"static/js/main.e2b53f48.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2KbyK\",\"searchForm\":\"Searchbar_searchForm__i6L9o\",\"searchFormButton\":\"Searchbar_searchFormButton__32V6e\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2H8yr\",\"searchFormInput\":\"Searchbar_searchFormInput__TeyY_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3F97E\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2CNDi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__pNXjL\",\"modal\":\"Modal_modal__370FL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__MPtLW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1nkAe\"};","const API_KEY = '22909225-4bd408e854a1416d853656515';\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport { API_KEY, BASE_URL };\n","import axios from 'axios';\nimport { BASE_URL, API_KEY } from '../services/constants';\n\nasync function fetchImages(searchQuery, page) {\n  const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios\n    .get(url)\n    .then(response => response.data.hits)\n    .then(hits =>\n      hits.map(({ id, largeImageURL, webformatURL }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n      })),\n    );\n}\n\n// function fetchImages(searchQuery, page) {\n//   const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n//   return fetch(url)\n//     .then(response => response.json())\n//     .then(({ hits }) => {\n//       console.log('hits', hits);\n//       return hits;\n//     });\n// }\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.searchForm}>\n          <button type=\"submit\" className={s.searchFormButton}>\n            <span className={s.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchQuery\"\n            value={this.state.searchQuery}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ image, tags, onImageClick }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={image}\n        alt={tags}\n        onClick={onImageClick}\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string,\n  image: PropTypes.string.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={`${id}-${uuidv4()}`}\n          image={webformatURL}\n          tags={tags}\n          onImageClick={() => onImageClick(largeImageURL, tags)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onImageClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    showModal: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onCloseModal);\n  }\n\n  onCloseModal = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  onCloseBackdrop = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { showModal, tags } = this.props;\n    const { onCloseBackdrop } = this;\n\n    return createPortal(\n      <div className={s.overlay} onClick={onCloseBackdrop}>\n        <div className={s.modal}>\n          <img src={showModal} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default function Spinner() {\n  return (\n    <div>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000}\n        style={{ textAlign: 'center' }}\n      />\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\nimport fetchImages from '../../services/api-service';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport Modal from '../Modal';\nimport Spinner from '../Loader';\n\nexport default class App extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n  };\n\n  state = {\n    searchQuery: '',\n    page: 1,\n    images: [],\n    showModal: null,\n    loading: false,\n    alt: null,\n    error: null,\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      try {\n        this.setState({ loading: true });\n        const images = await fetchImages(nextSearch, nextPage);\n\n        if (!images.length) {\n          toast.info('Check the correctness of the input', {\n            theme: 'colored',\n          });\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n        }));\n      } catch (error) {\n        this.setState({ error });\n        toast.error(this.state.error.message, { theme: 'colored' });\n      } finally {\n        if (prevState.images.length > 11) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        this.setState({ loading: false });\n      }\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    if (this.state.searchQuery === searchQuery) {\n      return;\n    }\n    this.resetState();\n    this.setState({ searchQuery });\n  };\n\n  loadMoBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleImageClick = (largeImageUrl, tags) => {\n    this.setState({\n      showModal: largeImageUrl,\n      alt: tags,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      showModal: null,\n    });\n  };\n\n  resetState = () => {\n    this.setState({\n      searchQuery: '',\n      page: 1,\n      images: [],\n      showModal: null,\n      loading: false,\n      alt: null,\n      error: null,\n    });\n  };\n\n  render() {\n    const { images, alt, showModal, loading } = this.state;\n    const { handleFormSubmit, handleImageClick, toggleModal, loadMoBtn } = this;\n\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar onSubmit={handleFormSubmit} />\n          <Spinner />\n          {images.length > 1 && (\n            <ImageGallery images={images} onImageClick={handleImageClick} />\n          )}\n\n          {showModal && (\n            <Modal showModal={showModal} tags={alt} onClose={toggleModal} />\n          )}\n          {images.length > 0 && <Button onClick={loadMoBtn} />}\n          {loading && <Spinner />}\n        </div>\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={3000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}